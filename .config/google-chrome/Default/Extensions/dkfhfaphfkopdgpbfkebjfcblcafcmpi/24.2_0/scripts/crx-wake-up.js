function getFreshLatestGoogleUserIntoBGScope(){chrome.runtime.sendMessage({notify_crx_from_webapp_signin:!0},function(a){"successful_user_login"==a.reply&&(window.location="https://mightytext.net/app")})}function triggerBGReload(a){var b="webapp-event";"undefined"!=typeof a&&a.hasOwnProperty("reason")&&(b=a.reason);chrome.runtime.sendMessage({reloadCRX:!0,reason:b})}
function closeThisWindow(){chrome.tabs.query({url:chrome.extension.getURL("help.html")},function(a){chrome.tabs.remove(a[0].id,function(){console.log("window removed")})})}checkHashParamsAndRespondWithCRXInfo();
function checkHashParamsAndRespondWithCRXInfo(){var a=window.location.hash.substring(1);a=$.deparam(a);if($.isEmptyObject(a))getFreshLatestGoogleUserIntoBGScope();else{if(a.hasOwnProperty("client")){var b=a.client;if("reminders-app"==b||"mt-webapp"==b){b=window.localStorage;for(var e="notif_battery_fully_charged notif_battery_low global_notifications message_notifications phone_app_notifications notif_content notif_auto_dismiss notif_auto_dismiss_time notif_sound_mode notif_sound_tone".split(" "),f=
{},c=0;c<e.length;c++){var d=e[c];b.hasOwnProperty(d)&&(f[d]=b[d])}b={crx_version:chrome.runtime.getManifest().version,crx_settings:f};b=JSON.stringify(b);parent.postMessage(b,"*")}}a.hasOwnProperty("event")&&"crx-bg-reload"==a.event&&(b={},a.hasOwnProperty("reason")&&(b.reason=a.reason),triggerBGReload(b))}};